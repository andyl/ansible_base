---

# cli_util

- name: create pkg dir
  file: 
    path: /home/{{gen_user}}/.pkg 
    state: directory 
    group: "{{gen_user}}"
    owner: "{{gen_user}}"

# ----- bat -----

- name: get bat deb file
  get_url: 
    url: https://github.com/sharkdp/bat/releases/download/v{{bat_version}}/bat_{{bat_version}}_amd64.deb
    dest: /home/{{gen_user}}/.pkg/bat_{{bat_version}}.deb
    validate_certs: false
    force: no
    group: "{{gen_user}}"
    owner: "{{gen_user}}"

- name: install bat
  apt: deb=/home/{{gen_user}}/.pkg/bat_{{bat_version}}.deb

# ----- fd -----

- name: get fd deb file
  get_url: 
    url: https://github.com/sharkdp/fd/releases/download/v{{fd_version}}/fd_{{fd_version}}_amd64.deb
    dest: /home/{{gen_user}}/.pkg/fd_{{fd_version}}.deb
    force: no
    group: "{{gen_user}}"
    owner: "{{gen_user}}"

- name: install fd
  apt: deb=/home/{{gen_user}}/.pkg/fd_{{fd_version}}.deb
