---

# crystal-lang

- name: add repository key
  apt_key: 
    url:   https://keybase.io/crystal/pgp_keys.asc
    state: present

- name: add repository
  apt_repository:
    repo: 'deb http://dist.crystal-lang.org/apt crystal main'
    update_cache: yes

- name: add crystal
  apt: pkg=crystal={{crystal_version}} state=present force=yes

- name: add support packages
  apt:
    pkg: "{{item}}"
    state: latest
  with_items:
    - libssl-dev
    - libxml2-dev
    - libyaml-dev
    - libgmp-dev
    - libreadline-dev

