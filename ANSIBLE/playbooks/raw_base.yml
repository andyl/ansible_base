--- 
# VAGRANT/ANSIBLE PROVISIONING - UBUNTU 18.04 SERVER
#
# TO BRING UP A NEW MACHINE
# create deploy user on new ubuntu machine:
# > sudo useradd -m <username>
# > sudo su
# $ passwd <username>            # update <passwd>
# $ usermod -aG sudo <username>  # add to admin or sudo group 
# $ exit
#
# DNS Setup: update /etc/hosts OR local DNSMASQ
#

- hosts: all
  vars:
    - rem_user: vagrant
    - tgt_user: vagrant
    - lcl_user: "{{ lookup('env', 'USER') }}"
  remote_user:  "{{rem_user}}"
  become: true
  roles:
    - Vars/predicates  # variables
    - Vars/hostname    # hostname
    - Vars/dump        # dump for debugging
    - User/setup       # tgt_user account and SSH keys
    # - Ruby/sysruby     # system ruby
    # - Ruby/chruby      # ruby version manager
    # - Ruby/install     # install ruby version
    # - Ruby/gems        # install ruby gems
    # - CLI/pkg          # cli 
    # - CLI/util_base    # cli 
    # - CLI/tzone        # cli 
    # - CLI/extras       # bat, fd, etc.
    # - Lang/pip         # python packages
    # - Lang/lua         # lua
    # - Lang/nodejs      # node
    # - Lang/yarn        # node / package manager
    # - Lang/erlang      # erlang
    # - Lang/elixir      # elixir
    # - Lang/elixir_ls   # elixir language server
    # - Lang/phoenix     # erlang/elixir (phoenix framework)
    # - Edit/tmux        # terminal multiplexer
    # - Edit/vim         # vim 8
    # - Edit/neovim      # next-gen vim
    # - DB/sqlite        # sqlite3 browser   
    # - DB/influx        # metric database
    # - DB/postgres      # relational DB
    # - Svc/grafana      # metric charting/graphing
    # - Svc/nats         # messaging 
    # - Virt/docker      # containerization
    # - sshchat          # ssh chat
    # - sftp             # ssh ftp
