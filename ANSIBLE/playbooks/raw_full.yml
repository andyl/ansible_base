--- 
# VAGRANT/ANSIBLE PROVISIONING - UBUNTU 18.04 SERVER
#
# TO BRING UP A NEW MACHINE
# create deploy user on new ubuntu machine:
# > sudo useradd -m <username>
# > sudo su
# $ passwd <username>            # update <passwd>
# $ usermod -aG sudo <username>  # add to admin or sudo group 
# $ exit
#
# DNS Setup: update /etc/hosts OR local DNSMASQ
#

- hosts: all
  vars:
    - sys_user: vagrant
    - gen_user: vagrant
    - lcl_user: "{{ lookup('env', 'USER') }}"
  remote_user:  "{{sys_user}}"
  become: true
  roles:
    - Vars/Predicates  # variables
    - Vars/Hostname    # hostname
    - Vars/Dump        # dump for debugging
    - User/setup       # gen_user account and SSH keys
    - Ruby/SysRuby     # system ruby
    - Ruby/chruby      # ruby version manager
    - Ruby/install     # install ruby version
    - Ruby/gems        # install ruby gems
    - CLI/Pkg          # system-wide packages
    - CLI/Tzone        # system-wide timezone
    - CLI/Extras       # system-wide utilities
    - CLI/util_base    # user-specific utility scripts
    - Lang/Pip         # python packages
    - Lang/Lua         # lua
    - Lang/Nodejs      # node
    - Lang/Yarn        # node / package manager
    - Lang/Erlang      # erlang
    - Lang/elixir      # elixir
    - Lang/elixir_ls   # elixir language server
    - Lang/phoenix     # erlang/elixir (phoenix framework)
    - Edit/Tmux    # terminal multiplexer
    - Edit/Vim     # vim 8
    - Edit/Neovim  # next-gen vim
    - Edit/Emacs   # emacs
    - DB/Sqlite        # sqlite3 browser   
    - DB/Influx        # metric database
    - DB/Postgres      # relational DB
    - Svc/Grafana      # metric charting/graphing
    - Virt/Docker      # containerization
    - Sys/Sftp         # to sshfs-mount directories 
